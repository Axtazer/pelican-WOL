{
  "_comment": "Pterodactyl Egg pour serveur Wake-on-LAN",
  "meta": {
    "version": "PTDL_v2",
    "update_url": "https://github.com/Axtazer/pelican-WOL/blob/main/egg-wol-server.json"
  },
  "exported_at": "2025-11-24T12:00:00+00:00",
  "name": "Wake-on-LAN Server",
  "author": "axtazer@github.com",
  "description": "Serveur Node.js WOL avec auto-d√©tection des interfaces r√©seau",
  "features": null,
  "docker_images": {
    "ghcr.io/pelican-eggs/yolks:nodejs_25": "ghcr.io/pelican-eggs/yolks:nodejs_25"
  },
  "file_denylist": [],
  "startup": "if [[ -f /home/container/package.json ]]; then /usr/local/bin/npm install --only=production; fi; /usr/local/bin/node /home/container/start.js",
  "config": {
    "files": "{}",
    "startup": "{\n    \"done\": \"listening|started|d√©marr√©|Installation\"\n}",
    "logs": "{}",
    "stop": "^C"
  },
  "scripts": {
    "installation": {
      "script": "#!/bin/bash\n\nset -e\n\necho \"üì¶ Mise √† jour des paquets...\"\napt update\napt install -y git curl jq\n\necho \"üóëÔ∏è Nettoyage du r√©pertoire d'installation...\"\ncd /mnt/server\nfind . -mindepth 1 -maxdepth 1 ! -name '.pterodactyl' -exec rm -rf {} + 2>/dev/null || true\n\necho \"üì• Clonage du d√©p√¥t GitHub...\"\nREPO_URL=\"https://github.com/Axtazer/pelican-WOL.git\"\ngit clone --depth 1 \"${REPO_URL}\" . || {\n  echo \"‚ùå Erreur lors du clonage du d√©p√¥t\"\n  exit 1\n}\n\necho \"üßπ Suppression du dossier .git...\"\nrm -rf .git\n\nif [[ -f package.json ]]; then\n  echo \"üì• Installation des d√©pendances npm...\"\n  if [[ -f package-lock.json ]]; then\n    npm ci --only=production 2>&1 || npm install --only=production 2>&1\n  else\n    npm install --only=production 2>&1\n  fi\n  echo \"‚úÖ D√©pendances install√©es\"\nelse\n  echo \"‚ö†Ô∏è Aucun package.json trouv√©\"\nfi\n\necho \"‚úÖ Installation termin√©e avec succ√®s!\"\n",
      "container": "ghcr.io/pelican-eggs/yolks:nodejs_25",
      "entrypoint": "bash"
    }
  },
  "variables": [
    {
      "name": "Server Port",
      "description": "Port d'√©coute du serveur",
      "env_variable": "SERVER_PORT",  
      "default_value": "3000",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|integer|between:1024,65535",
      "field_type": "text"
    },
    {
      "name": "Auto-Detect",
      "description": "Activer l'auto-d√©tection des interfaces (true/false)",
      "env_variable": "AUTO_DETECT",
      "default_value": "true",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|string|in:true,false",
      "field_type": "text"
    },
    {
      "name": "Local Interface (optionnel)",
      "description": "Nom de l'interface locale (laissez vide pour auto-d√©tection)",
      "env_variable": "LOCAL_INTERFACE",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": "nullable|string|max:20",
      "field_type": "text"
    },
    {
      "name": "Docker Interface (optionnel)",
      "description": "Nom de l'interface Docker (laissez vide pour auto-d√©tection)",
      "env_variable": "DOCKER_INTERFACE",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": "nullable|string|max:20",
      "field_type": "text"
    },
    {
      "name": "Local Network Prefix",
      "description": "Pr√©fixe du r√©seau local pour l'auto-d√©tection (ex: 192.168)",
      "env_variable": "LOCAL_NETWORK_PREFIX",
      "default_value": "192.168",
      "user_viewable": true,
      "user_editable": true,
      "rules": "nullable|string|max:15",
      "field_type": "text"
    },
    {
      "name": "Docker Network Prefix",
      "description": "Pr√©fixe du r√©seau Docker (g√©n√©ralement 172)",
      "env_variable": "DOCKER_NETWORK_PREFIX",
      "default_value": "172",
      "user_viewable": true,
      "user_editable": true,
      "rules": "nullable|string|max:15",
      "field_type": "text"
    },
    {
      "name": "Exclude Interfaces",
      "description": "Interfaces √† exclure (s√©par√©es par des virgules)",
      "env_variable": "EXCLUDE_INTERFACES",
      "default_value": "lo",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|string",
      "field_type": "text"
    },
    {
      "name": "WOL Port",
      "description": "Port UDP pour Wake-on-LAN",
      "env_variable": "WOL_PORT",
      "default_value": "9",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|integer|between:1,65535",
      "field_type": "text"
    },
    {
      "name": "API Key",
      "description": "Cl√© API pour s√©curiser les endpoints",
      "env_variable": "API_KEY",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": "nullable|string|max:256",
      "field_type": "text"
    }
  ]
}